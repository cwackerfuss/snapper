{"version":3,"sources":["animation.js"],"names":["maxTravel","paperWidth","paperHeight","startingPoints","pointDiameter","pointSpeed","maxConnectingDistance","rgb1","rgb2","s","Snap","lines","points","newLine","x1","y1","x2","y2","x1Position","line","attr","strokeWidth","stroke","getIntermediaryRgb","strokeOpacity","percent","rDiff","gDiff","bDiff","rNew","gNew","bNew","newRgb","newPoint","x","y","circle","fill","fillOpacity","generatePoints","i","randX","randomIntFromInterval","randY","generatedPoint","dest","push","connectPoints","length","pointX","node","cx","animVal","value","pointY","cy","q","comparePointX","comparePointY","distance","calculateDistance","lineExists","connectsTo","lineIndex","lineEl","pointAnim","anims","Object","keys","animationTimeRemaining","status","animate","mina","linear","pos","lineId","id","el","index","remove","splice","entries","Math","sqrt","min","max","floor","random","getNearbyCoordinate","start","axis","negOrPos","rand","coord","runAnimation","point","startX","startY","toX","toY","asyncLoop","o","loop","callback","functionToLoop","loopRunAnim","setTimeout","loopConnectPoints","throttle","fn","threshhold","scope","last","deferTimer","context","now","Date","args","arguments","clearTimeout","apply","createMousePoint","isMouse","destroyMousePoint","pop","docReadyCallback","addEventListener","event","offsetX","offsetY","document","readyState","documentElement","doScroll","window","clearSnap","clear"],"mappings":"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","file":"animation.js","sourcesContent":["const maxTravel = 50;\nconst paperWidth = 1200;\nconst paperHeight = 600;\nconst startingPoints = 20;\nconst pointDiameter = 0;\nconst pointSpeed = 7000; // randomIntFromInterval(4000,6000);\nconst maxConnectingDistance = paperWidth * paperHeight * 0.0005;\nconst rgb1 = [237,65,149];\nconst rgb2 = [226,44,40];\n\nvar s = Snap(paperWidth,paperHeight);\nvar lines = [];\nvar points = [];\n\nfunction newLine(x1, y1, x2, y2) {\n    let x1Position = x1 / paperWidth;\n    return s.line(x1, y1, x2, y2).attr({strokeWidth:2,stroke: getIntermediaryRgb(x1Position), strokeOpacity:\"0\"});\n}\n\nfunction getIntermediaryRgb(percent) {\n    let rDiff = rgb1[0] > rgb2[0] ? rgb1[0] - rgb2[0] : rgb2[0] - rgb1[0];\n    let gDiff = rgb1[1] > rgb2[1] ? rgb1[1] - rgb2[1] : rgb2[1] - rgb1[1];\n    let bDiff = rgb1[2] > rgb2[2] ? rgb1[2] - rgb2[2] : rgb2[2] - rgb1[2];\n    let rNew = rgb1[0] > rgb2[0] ? (rgb1[0] - (rDiff * percent)) : (rgb1[0] + (rDiff * percent))\n    let gNew = rgb1[1] > rgb2[1] ? (rgb1[1] - (gDiff * percent)) : (rgb1[1] + (gDiff * percent))\n    let bNew = rgb1[2] > rgb2[2] ? (rgb1[2] - (bDiff * percent)) : (rgb1[2] + (bDiff * percent))\n    let newRgb = `rgb(${rNew},${gNew},${bNew})`;\n    return newRgb;\n}\n\nfunction newPoint(x, y) {\n    return s.circle(x, y, pointDiameter).attr({fill:\"white\", fillOpacity:\"1\"})\n}\n\nfunction generatePoints() {\n    for (let i = 0; i < startingPoints; i++) {\n        let randX = randomIntFromInterval(paperWidth, 10);\n        let randY = randomIntFromInterval(paperHeight, 10);\n        let generatedPoint = newPoint(randX, randY)\n        generatedPoint.startingPoints = {x: randX, y: randY};\n        generatedPoint.dest = {x: 0, y: 0};\n        points.push( generatedPoint )\n    }\n}\n\nfunction connectPoints() {\n    for (let i = 0; i < points.length; i++) {\n        points[i].lines = points[i].lines ? points[i].lines : [];\n        let pointX = points[i].node.cx.animVal.value;\n        let pointY = points[i].node.cy.animVal.value;\n        for (let q = i + 1; q < points.length; q++) {\n            points[q].lines = points[q].lines ? points[q].lines : [];\n            let comparePointX = points[q].node.cx.animVal.value;\n            let comparePointY = points[q].node.cy.animVal.value;\n            let distance = calculateDistance(pointX, pointY, comparePointX, comparePointY)\n            if (distance < maxConnectingDistance) {\n                let lineExists = false;\n                for (const line of points[i].lines) {\n                    if (line.connectsTo === q) {\n                        lineExists = true;\n                    }\n                }\n                if (!lineExists) {\n\n                    let x1 = points[i].node.cx.animVal.value;\n                    let y1 = points[i].node.cy.animVal.value;\n                    let x2 = points[q].node.cx.animVal.value;\n                    let y2 = points[q].node.cy.animVal.value\n\n                    const lineIndex = lines.push( newLine(x1, y1, x2, y2) )\n\n                    const lineEl = lines[lineIndex-1];\n                    const pointAnim = points[i].anims[Object.keys(points[i].anims)[0]]\n                    const animationTimeRemaining = pointAnim ? ((1 - pointAnim.status()) * pointSpeed) : pointSpeed;\n                    lineEl.animate(\n                        {\n                            x1: points[i].dest.x,\n                            y1: points[i].dest.y,\n                            x2: points[q].dest.x,\n                            y2: points[q].dest.y\n                        },\n                        animationTimeRemaining,\n                        mina.linear,\n                        () => {}\n                    )\n                    lineEl.animate(\n                        {\n                            strokeOpacity:\"0.3\"\n                        },\n                        pointSpeed/3,\n                        mina.linear,\n                        () => {}\n                    )\n                    points[i].lines.push({pos: 1, connectsTo: q, lineId: lineEl.id, el: lines[lineIndex-1]})\n                    points[q].lines.push({pos: 2, connectsTo: i, lineId: lineEl.id, el: lineEl})\n                }\n            } else {\n                for (let [index, line] of points[i].lines.entries()) {\n                    if (line.connectsTo === q) {\n                        line.el.animate(\n                            {strokeOpacity:\"0\"},\n                            750,\n                            mina.linear,\n                            () => { line.el.remove() }\n                        )\n                        points[i].lines.splice(index, 1);\n                    }\n                }\n                for (let [index, line] of points[q].lines.entries()) {\n\n                    if (line.connectsTo === i) {\n                        points[q].lines.splice(index, 1);\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction calculateDistance(x1, y1, x2, y2) {\n    return Math.sqrt( (x1-x2)*(x1-x2) + (y1-y2)*(y1-y2) )\n}\n\nfunction randomIntFromInterval(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction getNearbyCoordinate(start, axis) {\n    let negOrPos = Math.random() < 0.5 ? -1 : 1;\n    let rand = randomIntFromInterval(maxTravel, 10)\n    let coord = start + (negOrPos * rand)\n    if (axis === 'x') {\n        if (coord > paperWidth) {\n            coord = coord - maxTravel;\n        } else if (coord < 0) {\n            coord = coord + maxTravel;\n        }\n    }\n    else {\n        if (coord > paperHeight) {\n            coord = coord - maxTravel;\n        } else if (coord < 0) {\n            coord = coord + maxTravel;\n        }\n    }\n    return coord;\n}\n\nfunction runAnimation() {\n    for (let point of points) {\n        const startX = point.startingPoints.x;\n        const startY = point.startingPoints.y;\n        const toX = getNearbyCoordinate(startX, 'x');\n        const toY = getNearbyCoordinate(startY, 'y');\n        point.dest = {x: toX, y: toY};\n        point.animate(\n            {cx: toX, cy: toY},\n            pointSpeed,\n            mina.linear\n        )\n        for (let line of point.lines) {\n            line.el.animate(\n                {['x' + line.pos]: toX, ['y' + line.pos]: toY},\n                pointSpeed,\n                mina.linear\n            )\n        }\n    }\n    return;\n}\n\n///////////////////////////////////////////////\n// INITTING ///////////////////////////////////\n///////////////////////////////////////////////\n\nvar asyncLoop = function(o){\n    var i = -1;\n    var loop = function(){\n        i++;\n        if (i == o.length) {\n            o.callback();\n            return;\n        }\n        o.functionToLoop(loop, i);\n    }\n    loop();\n}\n\nfunction loopRunAnim() {\n    asyncLoop({\n        length: 10000,\n        functionToLoop: function(loop, i){\n            setTimeout(function(){\n                runAnimation();\n                loop();\n            }, pointSpeed);\n        },\n        callback(){}\n    });\n}\n\nfunction loopConnectPoints() {\n    asyncLoop({\n        length: 10000,\n        functionToLoop: function(loop, i){\n            setTimeout(function(){\n                connectPoints()\n                loop();\n            }, pointSpeed/5);\n        },\n        callback(){}\n    });\n}\n\nfunction throttle(fn, threshhold, scope) {\n  threshhold || (threshhold = 250);\n  var last,\n      deferTimer;\n  return function () {\n    var context = scope || this;\n\n    var now = +new Date,\n        args = arguments;\n    if (last && now < last + threshhold) {\n      // hold on to it\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(function () {\n        last = now;\n        fn.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\n\nfunction createMousePoint(x, y) {\n    let generatedPoint = newPoint(x, y);\n    generatedPoint.startingPoints = {x, y};\n    generatedPoint.dest = {x, y};\n    generatedPoint.isMouse = true;\n    points.push( generatedPoint )\n}\n\nfunction destroyMousePoint() {\n    points[points.length-1].remove();\n    points.pop();\n}\n\nvar docReadyCallback = function(){\n    generatePoints();\n    connectPoints()\n    runAnimation();\n    loopConnectPoints();\n    loopRunAnim()\n\n    // s.mousemove(throttle(function(event) {\n    //     createMousePoint(event.offsetX, event.offsetY);\n    // }, 300))\n    // console.log('s: ', s)\n    s.node.addEventListener(\"mouseenter\", function(event) {\n        createMousePoint(event.offsetX, event.offsetY);\n    })\n    s.node.addEventListener(\"mouseleave\", function(event) {\n        destroyMousePoint();\n    })\n\n    // s.mousemove(throttle(function(event) {\n    //     createMousePoint(event.offsetX, event.offsetY);\n    // }, 300))\n\n    // s.unmouseout(function(event) {\n    //     console.log('unmouseout.')\n    // })\n    // s.mouseout(function(event) {\n    //     console.log('mouseout.')\n    // })\n};\n\nif ( document.readyState === \"complete\" || (document.readyState !== \"loading\" && !document.documentElement.doScroll)) {\n  docReadyCallback();\n} else {\n  document.addEventListener(\"DOMContentLoaded\", docReadyCallback);\n}\n\nwindow.clearSnap = function() {\n    s.clear();\n}\n"]}